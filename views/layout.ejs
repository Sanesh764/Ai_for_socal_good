<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="<%= typeof description !== 'undefined' ? description : 'Campus Compass - An inclusive, accessibility-first campus platform for wellbeing and information access' %>">
    <title><%= typeof title !== 'undefined' ? title : 'Campus Compass' %></title>
    
    <!-- Stylesheets -->
    <link rel="stylesheet" href="/css/base.css">
    <link rel="stylesheet" href="/css/components.css">
    <link rel="stylesheet" href="/css/accessibility.css" id="accessibility-styles">
    
    <!-- Preconnect for performance -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
</head>
<body>
    <!-- Skip to main content link for screen readers -->
    <a href="#main-content" class="skip-link">Skip to main content</a>
    
    <!-- Navigation -->
    <nav class="main-nav" role="navigation" aria-label="Main navigation">
        <div class="nav-container">
            <a href="/" class="nav-logo" aria-label="Campus Compass Home">
                <span class="logo-icon" aria-hidden="true">ðŸ§­</span>
                <span class="logo-text">Campus Compass</span>
            </a>
            
            <ul class="nav-menu" role="menubar">
                <li role="none"><a href="/" class="nav-link" role="menuitem" <%= page === 'home' ? 'aria-current="page"' : '' %>>Home</a></li>
                <li role="none"><a href="/wellbeing" class="nav-link" role="menuitem" <%= page === 'wellbeing' ? 'aria-current="page"' : '' %>>Wellbeing</a></li>
                <li role="none"><a href="/alerts" class="nav-link" role="menuitem" <%= page === 'alerts' ? 'aria-current="page"' : '' %>>Alerts</a></li>
                <li role="none"><a href="/accessibility" class="nav-link" role="menuitem" <%= page === 'accessibility' ? 'aria-current="page"' : '' %>>Accessibility</a></li>
                <li role="none"><a href="/about" class="nav-link" role="menuitem" <%= page === 'about' ? 'aria-current="page"' : '' %>>About</a></li>
            </ul>
        </div>
    </nav>
    
    <!-- Accessibility Controls -->
    <div class="accessibility-controls" role="region" aria-label="Accessibility settings">
        <button id="toggle-high-contrast" class="accessibility-btn" aria-label="Toggle high contrast mode" title="High Contrast Mode">
            <span aria-hidden="true">ðŸ”†</span>
            <span class="sr-only">Toggle high contrast mode</span>
        </button>
        <button id="toggle-dyslexia-mode" class="accessibility-btn" aria-label="Toggle dyslexia-friendly mode" title="Dyslexia-Friendly Mode">
            <span aria-hidden="true">ðŸ“–</span>
            <span class="sr-only">Toggle dyslexia-friendly mode</span>
        </button>
        <button id="toggle-tts" class="accessibility-btn" aria-label="Toggle text-to-speech" title="Text-to-Speech">
            <span aria-hidden="true">ðŸ”Š</span>
            <span class="sr-only">Toggle text-to-speech</span>
        </button>
    </div>
    
    <!-- Main Content -->
    <main id="main-content" role="main">
        <%- body %>
    </main>
    
    <!-- Footer -->
    <footer class="main-footer" role="contentinfo">
        <div class="footer-container">
            <p class="footer-text">
                <strong>Campus Compass</strong> - Your Inclusive Campus Companion
            </p>
            <p class="footer-disclaimer">
                <strong>Important:</strong> This AI assistant provides general information and support only. 
                It does not provide medical diagnosis, treatment, or legal advice. 
                For emergencies, contact: <a href="tel:1800-HELP-NOW" class="footer-link">1800-HELP-NOW</a>
            </p>
            <p class="footer-meta">
                Built with accessibility and social good in mind. 
                <a href="/about" class="footer-link">Learn more</a>
            </p>
        </div>
    </footer>
    
    <!-- JavaScript -->
    <script src="/js/accessibility.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>
